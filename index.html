<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gerador de Recibo ‚Ä¢ Celso Motorista</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#111826;
      --text:#eef2f8;
      --muted:#a8b3c7;
      --line:rgba(255,255,255,.10);

      /* Laranja */
      --orange:#fb923c;
      --orange2:#f97316;

      --danger:#fb7185;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(251,146,60,.16), transparent 60%),
        radial-gradient(1000px 650px at 88% 22%, rgba(249,115,22,.14), transparent 55%),
        var(--bg);
      color:var(--text);
    }
    header{
      padding:20px 16px 10px;
      max-width:1200px;
      margin:0 auto;
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    header h1{ margin:0; font-size:18px; font-weight:900; letter-spacing:.2px; }
    header p{ margin:6px 0 0; color:var(--muted); font-size:13px; max-width:780px; line-height:1.35; }
    .wrap{
      max-width:1200px;
      margin:0 auto;
      padding:12px 16px 28px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
    }
    @media (max-width: 980px){ .wrap{grid-template-columns:1fr} }

    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,.04), transparent 40%), var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
      box-shadow: 0 10px 35px rgba(0,0,0,.35);
    }

    .toolbar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-bottom:10px;
    }
    .btns{ display:flex; gap:8px; flex-wrap:wrap; }

    button{
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:800;
      font-size:13px;
      transition:.15s transform, .15s background, .15s border, .15s box-shadow;
      user-select:none;
    }
    button:hover{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.18); }
    button:active{ transform: translateY(1px); }

    .btn-accent{
      border-color: rgba(249,115,22,.45);
    }
    .btn-accent:hover{
      background: rgba(249,115,22,.12);
      box-shadow: 0 0 0 3px rgba(249,115,22,.12);
    }
    .btn-danger{ border-color: rgba(251,113,133,.35); }
    .btn-danger:hover{ background: rgba(251,113,133,.12); }

    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }
    @media (max-width: 620px){ .grid{ grid-template-columns:1fr; } }

    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:8px 0 6px;
    }
    input, textarea, select{
      width:100%;
      background: rgba(255,255,255,.05);
      color: var(--text);
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 10px;
      outline:none;
      font-size:13px;
    }
    textarea{ min-height:70px; resize:vertical; }
    input:focus, textarea:focus, select:focus{
      border-color: rgba(249,115,22,.55);
      box-shadow: 0 0 0 3px rgba(249,115,22,.14);
    }

    /* Recibo */
    .receipt-stage{ display:flex; justify-content:center; padding:10px 0; }
    .receipt{
      width: 380px;
      max-width: 100%;
      background: #0b1220;
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 14px 40px rgba(0,0,0,.42);
      position:relative;
    }
    .receipt:before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(680px 280px at 20% 0%, rgba(251,146,60,.16), transparent 55%),
        radial-gradient(680px 300px at 86% 10%, rgba(249,115,22,.14), transparent 60%);
      pointer-events:none;
    }
    .r-topband{
      position:relative;
      padding:14px 16px 10px;
      border-bottom:1px dashed rgba(255,255,255,.14);
      background:
        linear-gradient(90deg, rgba(249,115,22,.18), rgba(249,115,22,0) 55%),
        rgba(255,255,255,.02);
    }
    .r-brandrow{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap; }
    .r-brand{
      font-weight:950;
      letter-spacing:.2px;
      font-size:14px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .dot{
      width:10px; height:10px; border-radius:999px;
      background: linear-gradient(180deg, var(--orange), var(--orange2));
      box-shadow: 0 0 0 6px rgba(249,115,22,.10);
      flex:0 0 auto;
      margin-top:3px;
    }
    .r-company{ color:rgba(232,238,247,.92); font-size:12.5px; margin-top:3px; }
    .r-total{ font-size:24px; font-weight:950; letter-spacing:.2px; text-align:right; white-space:nowrap; }
    .r-meta{
      margin-top:8px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      color:rgba(232,238,247,.88);
      font-family:var(--mono);
      font-size:12px;
      opacity:.95;
      flex-wrap:wrap;
    }

    .r-section{ padding:12px 16px; position:relative; }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(249,115,22,.28);
      background: rgba(249,115,22,.10);
      color:rgba(255,255,255,.92);
      font-size:11.5px;
      font-weight:850;
    }
    .r-blocktitle{
      margin:0 0 8px;
      font-size:12px;
      color:rgba(168,179,199,.95);
      letter-spacing:.2px;
      display:flex;
      align-items:center;
      gap:8px;
      text-transform:uppercase;
      flex-wrap:wrap;
    }
    .r-address{ font-size:12.5px; line-height:1.35; color:rgba(232,238,247,.92); }
    .r-time{
      margin-top:8px;
      font-family:var(--mono);
      font-size:12px;
      color:rgba(232,238,247,.90);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .r-client{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .r-client .line{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      font-size:12.5px; padding:4px 0;
    }
    .r-client .label{ color:rgba(168,179,199,.95); }
    .r-client .value{ font-family:var(--mono); color:rgba(232,238,247,.95); }

    .r-lines{ border-top:1px solid rgba(255,255,255,.08); padding-top:10px; margin-top:10px; }
    .r-item{ display:flex; justify-content:space-between; gap:10px; font-size:12.5px; padding:5px 0; color:rgba(232,238,247,.92); }
    .r-item .k{ color:rgba(168,179,199,.95); }
    .r-item .v{ font-family:var(--mono); }
    .r-strong{ font-weight:950; font-size:13.5px; }
    .r-sub{ color:rgba(168,179,199,.95); font-size:12px; margin-top:10px; line-height:1.35; }

    .r-foot{ padding:12px 16px 16px; border-top:1px dashed rgba(255,255,255,.14); position:relative; }
    .r-foot a{ color: var(--orange); text-decoration:none; word-break:break-all; }

    /* Print s√≥ o recibo */
    @media print{
      body{ background:#fff; color:#000; }
      header, .wrap > .panel:first-child{ display:none !important; }
      .wrap{ padding:0; display:block; }
      .panel{ border:none; box-shadow:none; }
      .receipt-stage{ padding:0; }
      .receipt{
        width: 80mm;
        border: none;
        border-radius: 0;
        box-shadow:none;
        background:#fff;
        color:#000;
      }
      .receipt:before{ display:none; }
      .r-topband{ background:#fff; border-bottom:1px dashed #999; }
      .r-item .k, .r-sub, .r-blocktitle, .r-client .label{ color:#333; }
      .r-meta, .r-time, .r-item .v, .r-client .value{ color:#000; }
      .r-foot a{ color:#000; text-decoration:underline; }
      .chip{ border:1px solid #999; background:#fff; color:#000; }
      .dot{ box-shadow:none; }
    }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Gerador de Recibo ‚Ä¢ Celso Motorista</h1>
      <p>Campos edit√°veis (cliente + CPF/CNPJ + empresa). Para gerar PDF: clique em <b>Imprimir</b> e escolha ‚ÄúSalvar como PDF‚Äù.</p>
    </div>
    <div class="chip">üßæ Celso Motorista ‚Ä¢ Laranja</div>
  </header>

  <main class="wrap">
    <!-- Editor -->
    <section class="panel">
      <div class="toolbar">
        <div class="btns">
          <button class="btn-accent" id="btnPrint">Imprimir / Salvar PDF</button>
          <button id="btnCopyJson">Copiar JSON</button>
          <button id="btnDownloadJson">Baixar JSON</button>
          <label for="fileJson" style="margin:0">
            <input id="fileJson" type="file" accept="application/json" style="display:none" />
            <button type="button" id="btnImport">Importar JSON</button>
          </label>
        </div>
        <div class="btns">
          <button id="btnNow">Preencher com agora</button>
          <button class="btn-danger" id="btnReset">Reset</button>
        </div>
      </div>

      <div class="grid">
        <div>
          <label>Marca (Topo)</label>
          <input data-bind="marca" placeholder="Celso Motorista" />
        </div>
        <div>
          <label>Empresa/Motorista (emitente)</label>
          <input data-bind="emissor" placeholder="Celso Motorista" />
        </div>

        <div>
          <label>Total (Topo)</label>
          <input data-bind="totalTopo" placeholder="R$ 0,00" />
        </div>
        <div>
          <label>Data (Topo)</label>
          <input data-bind="dataTopo" placeholder="dd/mm/aaaa" />
        </div>

        <div>
          <label>Hora (Topo)</label>
          <input data-bind="horaTopo" placeholder="hh:mm:ss" />
        </div>
        <div>
          <label>Tipo</label>
          <input data-bind="taximetro" placeholder="Corrida | Carro" />
        </div>

        <div>
          <label>Cliente (Nome)</label>
          <input data-bind="clienteNome" placeholder="Nome do cliente" />
        </div>
        <div>
          <label>Empresa do cliente (opcional)</label>
          <input data-bind="clienteEmpresa" placeholder="Nome da empresa (se houver)" />
        </div>

        <div>
          <label>Documento (tipo)</label>
          <select data-bind="docTipo">
            <option value="CPF">CPF</option>
            <option value="CNPJ">CNPJ</option>
          </select>
        </div>
        <div>
          <label>Documento (n√∫mero)</label>
          <input data-bind="docNumero" placeholder="000.000.000-00 ou 00.000.000/0000-00" />
        </div>

        <div style="grid-column:1/-1">
          <label>Origem</label>
          <textarea data-bind="origem" placeholder="Endere√ßo completo de origem"></textarea>
        </div>

        <div>
          <label>Hora in√≠cio</label>
          <input data-bind="horaInicio" placeholder="hh:mm:ss" />
        </div>
        <div>
          <label>Hora fim</label>
          <input data-bind="horaFim" placeholder="hh:mm:ss" />
        </div>

        <div style="grid-column:1/-1">
          <label>Destino</label>
          <textarea data-bind="destino" placeholder="Endere√ßo completo de destino"></textarea>
        </div>

        <div>
          <label>Total (Detalhamento)</label>
          <input data-bind="totalDetalhe" placeholder="R$ 0,00" />
        </div>
        <div>
          <label>Valor cobrado</label>
          <input data-bind="valorCobrado" placeholder="R$ 0,00" />
        </div>

        <div>
          <label>KM rodados (texto)</label>
          <input data-bind="kmTexto" placeholder="0,00 KM = R$ 0,00" />
        </div>
        <div>
          <label>Tempo de viagem (texto)</label>
          <input data-bind="tempoTexto" placeholder="0,00 min = R$ 0,00" />
        </div>

        <div>
          <label>Custo fixo</label>
          <input data-bind="custoFixo" placeholder="R$ 0,00" />
        </div>
        <div>
          <label>Descontos e ajustes</label>
          <input data-bind="descontos" placeholder="R$ 0,00" />
        </div>

        <div>
          <label>Saldo pendente</label>
          <input data-bind="saldoPendente" placeholder="R$ 0,00" />
        </div>
        <div>
          <label>Resumo</label>
          <input data-bind="resumoTaximetro" placeholder="0,00 KM | 0,00 min" />
        </div>

        <div>
          <label>Ve√≠culo</label>
          <input data-bind="veiculo" placeholder="Marca / Modelo" />
        </div>
        <div>
          <label>Placa</label>
          <input data-bind="placa" placeholder="ABC1D23" />
        </div>

        <div style="grid-column:1/-1">
          <label>Mensagem curta (opcional)</label>
          <input data-bind="mensagem" placeholder="Ex.: Viagem executiva ‚Ä¢ pagamento √† vista" />
        </div>

        <div style="grid-column:1/-1">
          <label>Link do mapa (opcional)</label>
          <input data-bind="linkMapa" placeholder="https://..." />
        </div>

        <div>
          <label>Rodap√© (linha 1)</label>
          <input data-bind="rodape1" placeholder="Mensagem de rodap√©" />
        </div>
        <div>
          <label>Rodap√© (linha 2)</label>
          <input data-bind="rodape2" placeholder="Mensagem de rodap√©" />
        </div>
      </div>
    </section>

    <!-- Preview -->
    <section class="panel">
      <div class="receipt-stage">
        <article class="receipt">
          <div class="r-topband">
            <div class="r-brandrow">
              <div>
                <div class="r-brand"><span class="dot"></span><span id="v_marca">Celso Motorista</span></div>
                <div class="r-company" id="v_emissor">Celso Motorista</div>
              </div>
              <div class="r-total" id="v_totalTopo">R$ 0,00</div>
            </div>
            <div class="r-meta">
              <span id="v_dataTopo">dd/mm/aaaa</span>
              <span id="v_horaTopo">hh:mm:ss</span>
            </div>
          </div>

          <div class="r-section">
            <div class="r-blocktitle">
              <span class="chip" id="v_taximetro">Corrida | Carro</span>
              <span id="v_mensagem" style="color:rgba(232,238,247,.88); font-size:12px;"></span>
            </div>

            <div class="r-address" id="v_origem">Origem‚Ä¶</div>
            <div class="r-time">
              <span><span class="k">In√≠cio:</span> <span id="v_horaInicio">--:--:--</span></span>
              <span><span class="k">Fim:</span> <span id="v_horaFim">--:--:--</span></span>
            </div>
            <div class="r-address" style="margin-top:10px" id="v_destino">Destino‚Ä¶</div>

            <div class="r-client">
              <div class="line"><span class="label">Cliente</span><span class="value" id="v_clienteNome">‚Äî</span></div>
              <div class="line" id="empresaRow"><span class="label">Empresa</span><span class="value" id="v_clienteEmpresa">‚Äî</span></div>
              <div class="line"><span class="label" id="v_docTipoLabel">CPF</span><span class="value" id="v_docNumero">‚Äî</span></div>
            </div>

            <div class="r-lines">
              <div class="r-item r-strong">
                <span class="k">Total</span>
                <span class="v" id="v_totalDetalhe">R$ 0,00</span>
              </div>

              <div class="r-item"><span class="k">KM rodados</span><span class="v" id="v_kmTexto">‚Äî</span></div>
              <div class="r-item"><span class="k">Tempo</span><span class="v" id="v_tempoTexto">‚Äî</span></div>
              <div class="r-item"><span class="k">Custo fixo</span><span class="v" id="v_custoFixo">‚Äî</span></div>
              <div class="r-item"><span class="k">Descontos</span><span class="v" id="v_descontos">‚Äî</span></div>
              <div class="r-item"><span class="k">Saldo pendente</span><span class="v" id="v_saldoPendente">‚Äî</span></div>

              <div class="r-item r-strong" style="margin-top:6px">
                <span class="k">Valor cobrado</span>
                <span class="v" id="v_valorCobrado">R$ 0,00</span>
              </div>

              <div class="r-sub">
                <div style="margin-top:6px">
                  <b id="v_veiculo">Ve√≠culo‚Ä¶</b><br/>
                  Placa: <span class="v" id="v_placa">‚Äî</span>
                </div>
                <div style="margin-top:8px">
                  <span class="v" id="v_resumoTaximetro">‚Äî</span>
                </div>
              </div>
            </div>
          </div>

          <div class="r-foot">
            <div id="mapWrap" style="display:none">
              <div class="r-item"><span class="k">Mapa / Link</span></div>
              <a id="v_linkMapa" href="#" target="_blank" rel="noopener noreferrer">https://...</a>
            </div>

            <div class="r-sub" style="margin-top:10px" id="v_rodape1">‚Äî</div>
            <div class="r-sub" id="v_rodape2">‚Äî</div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <script>
    const STORAGE_KEY = "recibo_celso_motorista_v3";

    const defaults = {
      marca: "Celso Motorista",
      emissor: "Celso Motorista",

      totalTopo: "R$ 0,00",
      dataTopo: "dd/mm/aaaa",
      horaTopo: "hh:mm:ss",

      docTipo: "CPF",
      docNumero: "",
      clienteNome: "",
      clienteEmpresa: "",

      taximetro: "Corrida | Carro",
      mensagem: "",

      origem: "",
      horaInicio: "",
      horaFim: "",
      destino: "",

      totalDetalhe: "R$ 0,00",
      kmTexto: "",
      tempoTexto: "",
      custoFixo: "R$ 0,00",
      descontos: "R$ 0,00",
      saldoPendente: "R$ 0,00",
      valorCobrado: "R$ 0,00",

      veiculo: "",
      placa: "",
      resumoTaximetro: "",

      linkMapa: "",

      rodape1: "Recibo gerado por Celso Motorista.",
      rodape2: "Contato: (coloque aqui seu telefone/whatsapp)"
    };

    const state = loadState();

    function loadState(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return structuredClone(defaults);
        const parsed = JSON.parse(raw);
        return { ...structuredClone(defaults), ...parsed };
      }catch(e){
        return structuredClone(defaults);
      }
    }

    function saveState(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state, null, 2));
    }

    function bindInputs(){
      document.querySelectorAll("[data-bind]").forEach(el => {
        const key = el.getAttribute("data-bind");
        el.value = state[key] ?? "";
        el.addEventListener("input", () => {
          state[key] = el.value;
          saveState();
          render();
        });
        el.addEventListener("change", () => {
          state[key] = el.value;
          saveState();
          render();
        });
      });
    }

    function setText(id, value){
      const el = document.getElementById(id);
      if(el) el.textContent = value ?? "";
    }

    function render(){
      setText("v_marca", state.marca || "Celso Motorista");
      setText("v_emissor", state.emissor || "Celso Motorista");

      setText("v_totalTopo", state.totalTopo || "R$ 0,00");
      setText("v_dataTopo", state.dataTopo || "‚Äî");
      setText("v_horaTopo", state.horaTopo || "‚Äî");

      setText("v_taximetro", state.taximetro || "‚Äî");

      const msg = (state.mensagem || "").trim();
      document.getElementById("v_mensagem").textContent = msg ? ("‚Ä¢ " + msg) : "";

      setText("v_origem", (state.origem || "").trim() || "Origem‚Ä¶");
      setText("v_horaInicio", (state.horaInicio || "").trim() || "--:--:--");
      setText("v_horaFim", (state.horaFim || "").trim() || "--:--:--");
      setText("v_destino", (state.destino || "").trim() || "Destino‚Ä¶");

      // Cliente
      setText("v_clienteNome", (state.clienteNome || "").trim() || "‚Äî");
      setText("v_docTipoLabel", state.docTipo || "CPF");
      setText("v_docNumero", (state.docNumero || "").trim() || "‚Äî");

      const empresa = (state.clienteEmpresa || "").trim();
      const empresaRow = document.getElementById("empresaRow");
      setText("v_clienteEmpresa", empresa || "‚Äî");
      empresaRow.style.display = empresa ? "" : "none";

      setText("v_totalDetalhe", state.totalDetalhe || "R$ 0,00");
      setText("v_kmTexto", (state.kmTexto || "").trim() || "‚Äî");
      setText("v_tempoTexto", (state.tempoTexto || "").trim() || "‚Äî");
      setText("v_custoFixo", state.custoFixo || "‚Äî");
      setText("v_descontos", state.descontos || "‚Äî");
      setText("v_saldoPendente", state.saldoPendente || "‚Äî");
      setText("v_valorCobrado", state.valorCobrado || "R$ 0,00");

      setText("v_veiculo", (state.veiculo || "").trim() || "Ve√≠culo‚Ä¶");
      setText("v_placa", (state.placa || "").trim() || "‚Äî");
      setText("v_resumoTaximetro", (state.resumoTaximetro || "").trim() || "‚Äî");

      const link = (state.linkMapa || "").trim();
      const mapWrap = document.getElementById("mapWrap");
      const a = document.getElementById("v_linkMapa");
      if(link){
        mapWrap.style.display = "";
        a.textContent = link;
        a.href = link;
      }else{
        mapWrap.style.display = "none";
        a.textContent = "";
        a.href = "#";
      }

      setText("v_rodape1", (state.rodape1 || "").trim() || "‚Äî");
      setText("v_rodape2", (state.rodape2 || "").trim() || "‚Äî");
    }

    function pad2(n){ return String(n).padStart(2,"0"); }
    function formatDateBR(d){
      return `${pad2(d.getDate())}/${pad2(d.getMonth()+1)}/${d.getFullYear()}`;
    }
    function formatTime(d){
      return `${pad2(d.getHours())}:${pad2(d.getMinutes())}:${pad2(d.getSeconds())}`;
    }

    // Bot√µes
    document.getElementById("btnPrint").addEventListener("click", () => window.print());

    document.getElementById("btnReset").addEventListener("click", () => {
      Object.assign(state, structuredClone(defaults));
      saveState();
      bindInputs();
      render();
      toast("Resetado üîÑ");
    });

    document.getElementById("btnNow").addEventListener("click", () => {
      const d = new Date();
      state.dataTopo = formatDateBR(d);
      state.horaTopo = formatTime(d);
      saveState();
      bindInputs();
      render();
      toast("Atualizado ‚è±Ô∏è");
    });

    document.getElementById("btnCopyJson").addEventListener("click", async () => {
      const json = JSON.stringify(state, null, 2);
      try{
        await navigator.clipboard.writeText(json);
        toast("JSON copiado ‚úÖ");
      }catch(e){
        toast("N√£o consegui copiar. Use Baixar JSON.");
      }
    });

    document.getElementById("btnDownloadJson").addEventListener("click", () => {
      const json = JSON.stringify(state, null, 2);
      const blob = new Blob([json], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "recibo_celso_motorista.json";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      toast("Baixado üì¶");
    });

    const fileJson = document.getElementById("fileJson");
    document.getElementById("btnImport").addEventListener("click", () => fileJson.click());
    fileJson.addEventListener("change", async () => {
      const file = fileJson.files?.[0];
      if(!file) return;
      try{
        const text = await file.text();
        const imported = JSON.parse(text);
        Object.assign(state, structuredClone(defaults), imported);
        saveState();
        bindInputs();
        render();
        toast("Importado ‚úÖ");
      }catch(e){
        toast("JSON inv√°lido ‚ùå");
      }finally{
        fileJson.value = "";
      }
    });

    // Toast
    let toastTimer = null;
    function toast(msg){
      let el = document.getElementById("toast");
      if(!el){
        el = document.createElement("div");
        el.id = "toast";
        el.style.position = "fixed";
        el.style.bottom = "14px";
        el.style.left = "50%";
        el.style.transform = "translateX(-50%)";
        el.style.padding = "10px 12px";
        el.style.borderRadius = "999px";
        el.style.border = "1px solid rgba(249,115,22,.25)";
        el.style.background = "rgba(15,23,36,.92)";
        el.style.color = "rgba(232,238,247,.96)";
        el.style.backdropFilter = "blur(10px)";
        el.style.fontSize = "13px";
        el.style.fontWeight = "900";
        el.style.boxShadow = "0 10px 30px rgba(0,0,0,.35)";
        el.style.zIndex = "9999";
        document.body.appendChild(el);
      }
      el.textContent = msg;
      el.style.opacity = "1";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => { el.style.opacity = "0"; }, 1600);
    }

    // Init
    bindInputs();
    render();
  </script>
</body>
</html>
